plugins {
    id "java"
    id "org.jetbrains.kotlin.jvm" version "1.3.61"
    id "com.github.johnrengelman.shadow" version "5.2.0"
}

group "de.randombyte"
version "1.1.0"

sourceCompatibility = 1.8

repositories {
    jcenter()
}

dependencies {
    compile "org.jetbrains.kotlin:kotlin-stdlib-jdk8"
}

shadowJar {
    configurations = [project.configurations.compile]

    relocate "kotlin", "de.randombyte.videocompressor.shaded.kotlin"

    classifier = ""
}
build.dependsOn shadowJar

compileKotlin.kotlinOptions.jvmTarget = "1.8"

jar.manifest.attributes["Main-Class"] = "de.randombyte.videocompressor.VideoCompressorKt"